(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){},119:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t),a.d(t,"registerUser",function(){return m}),a.d(t,"loginUser",function(){return p}),a.d(t,"setCurrentUser",function(){return d}),a.d(t,"setUserLoading",function(){return h}),a.d(t,"logoutUser",function(){return g}),a.d(t,"registerFirstAdmin",function(){return f}),a.d(t,"getAllUsers",function(){return b});var n=a(30),r=a.n(n),o=a(37),s=a(34),i=a.n(s),l=a(20),c=a(47),u=a(62),m=function(e,t){return function(a){console.log(t),console.log(e),console.log(localStorage),c().isValid&&(console.log("curUserIsAdmin has been confirmed to be true"),r.a.post("/api/users/register",e).then(function(e){return t.push("/skus")}).catch(function(e){return a({type:l.a,payload:e.response.data})}))}},p=function(e){return function(t){r.a.post("/api/users/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),Object(o.a)(a);var n=i()(a);console.log("logging in user and setting if admin in authActions: "+n.admin),t(d(n))}).catch(function(e){return t({type:l.a,payload:e.response.data})})}},d=function(e){return{type:l.b,payload:e}},h=function(){return{type:l.c}},g=function(){return function(e){localStorage.removeItem("jwtToken"),Object(o.a)(!1),e(d({})),console.log(l.b),console.log("localStorage: "+localStorage.getItem("jwtToken"))}},f=function(e,t){return function(a){console.log(t),console.log(e),console.log("this is the regfirstAdmin flag: "+localStorage.getItem("firstAdminCreated")),console.log("this is the adminHasinit value: "+u().isValid),u().isValid||(r.a.post("/api/users/register",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:l.a,payload:e.response.data})}),localStorage.setItem("firstAdminCreated",!0),console.log("this is the regfirstAdminLATER flag: "+localStorage.getItem("firstAdminCreated")))}},b=function(){return function(e){var t=0;return r.a.get("/api/users/getall").then(function(e){console.log("this is the response in authActions: "+e),console.log("this is the length: "+e.data.data.length),e.data.data.length>0&&(localStorage.setItem("firstAdminCreated",!0),t=e.data.data.length),console.log("this is the firstAdminCreated flag: "+localStorage.getItem("firstAdminCreated"))}).catch(function(t){return e({type:l.a,payload:t.response.data})}),t}}},20:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"c",function(){return r}),a.d(t,"b",function(){return o});var n="GET_ERRORS",r="USER_LOADING",o="SET_CURRENT_USER"},212:function(e,t,a){},214:function(e,t,a){},218:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(27),s=a(6),i=a(7),l=a(12),c=a(10),u=a(11),m=a(236),p=a(228),d=a(239),h=a(8),g="default_user",f="INGREDIENTS",b="SKUs",v="MANUFACTURING GOALS",E="White",O="PaleTurquoise",_="Create Item",y="Save",w="Delete",j="Cancel",S="Create",k=a(219),C=a(220),N=a(221),x=a(222),D=a(223),U=a(224),I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).toggleDropDown=a.toggleDropDown.bind(Object(h.a)(Object(h.a)(a))),a.state={width:100,dropdownOpen:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"toggleDropDown",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"filter-item",style:{width:this.state.width+"%"}},r.a.createElement(k.a,{id:"inputGroup"},r.a.createElement(C.a,{type:"text",value:this.props.value,onChange:this.props.handleValueChange}),r.a.createElement(N.a,{addonType:"append",isOpen:this.state.dropdownOpen,toggle:this.toggleDropDown},r.a.createElement(x.a,{caret:!0},this.props.selection),r.a.createElement(D.a,null,this.props.categories.map(function(t){return r.a.createElement(U.a,{key:t,onClick:function(a){return e.props.handleFilterSelection(a,t)}},t)})))))}}]),t}(r.a.Component),A=a(225),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).getPropertyLabel=function(e){return a.props.columns[a.props.table_properties.indexOf(e)]},a.rowStyle=function(e){return{backgroundColor:a.props.selected_items.includes(e)?E:O}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(A.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,this.props.table_properties.map(function(t){return r.a.createElement("th",{key:t,onClick:function(a){return e.props.handleSort(a,t)}},e.getPropertyLabel(t))}))),r.a.createElement("tbody",null,this.props.list_items.map(function(t){return r.a.createElement("tr",{key:t.num,style:e.rowStyle(t)},e.props.table_properties.map(function(a){return r.a.createElement("td",{key:a,onClick:function(a){return e.props.handleSelect(a,t)}},t[a])}),r.a.createElement("td",{color:"link",onClick:function(a){return e.props.handleDetailViewSelect(a,t)}},"..."))}))))}}]),t}(r.a.Component),P=a(75),G=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).toggleDropDown=a.toggleDropDown.bind(Object(h.a)(Object(h.a)(a))),a.state={dropdownOpen:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"toggleDropDown",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"table-options"},r.a.createElement(P.a,{isOpen:this.state.dropdownOpen,toggle:this.toggleDropDown},r.a.createElement(x.a,{caret:!0},"Options"),r.a.createElement(D.a,{right:!0},this.props.table_options.map(function(t){return r.a.createElement(U.a,{key:t,onClick:function(a){return e.props.handleTableOptionSelection(a,t)}},t)}))))}}]),t}(r.a.Component),R=function e(){Object(s.a)(this,e)};R.submitCreateItem=function(e,t,a){fetch("/api/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){e.success?console.log(e):a.setState({error:e.error.message||e.error})})},R.submitUpdateItem=function(e,t,a){fetch("/api/".concat(e,"/").concat(t._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){e.success?console.log(e):a.setState({error:e.error.message||e.error})})},R.submitDeleteItem=function(e,t,a){fetch("/api/".concat(e,"/").concat(t._id),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.success?console.log(e):a.setState({error:e.error.message||e.error})})},R.submitFilterRequest=function(e,t,a){fetch("/api/".concat(e,"/").concat(t._id),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.success?console.log(e):a.setState({error:e.error.message||e.error})})};var F=function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,null,[{key:"getEmptyItem",value:function(t,a,n){var r=e.getUniqueNumber(a);switch(t){case"ingredients":return{name:"",num:r,vendor_info:"",pkg_size:"",pkg_cost:"",skus:[""]};case"skus":return{name:"",num:r,case_upc:"",unit_upc:"",unit_size:"",cpc:"",prod_line:"",comment:"",ingredients:[""]}}}}]),e}();F.getUniqueNumber=function(e){for(;;){var t=Math.floor(1147483647*Math.random())+1e9,a=!0;if(e.map(function(e){e.num==t&&(a=!1)}),a)return t}};var L=a(238),V=a(77),z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).getPropertyLabel=function(e){return a.props.item_property_labels[a.props.item_properties.indexOf(e)]},a.getPropertyPlaceholder=function(e){return a.props.item_property_placeholder[a.props.item_properties.indexOf(e)]},a.injectProperties=function(){return a.props.item?a.props.item_properties.map(function(e){return r.a.createElement(k.a,{key:e},r.a.createElement(L.a,{addonType:"prepend"},a.getPropertyLabel(e)),r.a.createElement(C.a,{placeholder:a.getPropertyPlaceholder(e),value:a.props.item[e],onChange:function(t){return a.props.handlePropChange(t,a.props.item,e)}}))}):null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"item-details"},r.a.createElement("div",{className:"item-title"},r.a.createElement("h1",null,this.props.item?this.props.item.name:"Undefined")),r.a.createElement("div",{className:"item-properties"},this.injectProperties()),r.a.createElement("div",{className:"item-options"},this.props.detail_view_options.map(function(t){return r.a.createElement(V.a,{key:t,onClick:function(a){return e.props.handleDetailViewSubmit(a,e.props.item,t)}},t)})))}}]),t}(r.a.Component),M=a(242),B=a(230),W=(a(93),a(227)),J=a(229),K=a(226),q=a(28),H=a(241),Y=a(14),Q=a(19),X=a(3),Z=a.n(X),$=a(47),ee=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).onSubmit=e.onSubmit.bind(Object(h.a)(Object(h.a)(e))),e.onChange=e.onChange.bind(Object(h.a)(Object(h.a)(e))),e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("trying to mount the register"+this.props.history),this.props.auth.isAuthenticated&&!$().isValid&&(this.props.history.push("/skus"),console.log("mounted"+this.props.history))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(q.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,email:this.state.email,password:this.state.password,password2:this.state.password2,privileges:[]};console.log(e),console.log(this.state),console.log(this.props.history),console.log(this.props),console.log(t),$().isValid?this.props.registerUser(t,this.props.history):console.log("person trying to register user when non admin")}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 offset-s2"},r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("h4",null,r.a.createElement("b",null,"Register")," New User Below")),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text",className:Z()("",{invalid:e.name})}),r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("span",{className:"red-text"},e.name)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:Z()("",{invalid:e.email})}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("span",{className:"red-text"},e.email)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:Z()("",{invalid:e.password})}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("span",{className:"red-text"},e.password)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password",className:Z()("",{invalid:e.password2})}),r.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),r.a.createElement("span",{className:"red-text"},e.password2)),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Register New User"))))))}}]),t}(n.Component),te=Object(Y.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:Q.registerUser})(Object(H.a)(ee)),ae=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).onSubmit=e.onSubmit.bind(Object(h.a)(Object(h.a)(e))),e.onChange=e.onChange.bind(Object(h.a)(Object(h.a)(e))),e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("trying to mount the adminregister"+this.props.history),this.props.auth.isAuthenticated&&(this.props.history.push("/skus"),console.log("mounted"+this.props.history))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(q.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,email:this.state.email,password:this.state.password,password2:this.state.password2,privileges:["Admin"]};console.log(e),console.log(this.state),console.log(this.props.history),console.log(this.props),console.log(t),this.props.registerFirstAdmin(t,this.props.history)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 offset-s2"},r.a.createElement(K.a,{to:"/",className:"btn-flat waves-effect"},r.a.createElement("i",{className:"material-icons left"},"keyboard_backspace")," Back to home"),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("h4",null,r.a.createElement("b",null,"Register New Admin")," below"),r.a.createElement("p",{className:"grey-text text-darken-1"})),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text",className:Z()("",{invalid:e.name})}),r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("span",{className:"red-text"},e.name)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:Z()("",{invalid:e.email})}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("span",{className:"red-text"},e.email)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:Z()("",{invalid:e.password})}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("span",{className:"red-text"},e.password)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password",className:Z()("",{invalid:e.password2})}),r.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),r.a.createElement("span",{className:"red-text"},e.password2)),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Register New Admin"))))))}}]),t}(n.Component),ne=Object(Y.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerFirstAdmin:Q.registerFirstAdmin})(Object(H.a)(ae)),re=(a(117),a(47)),oe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a.state={dropdownOpen:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})}},{key:"render",value:function(){return r.a.createElement(P.a,{isOpen:this.state.dropdownOpen,toggle:this.toggle},r.a.createElement(x.a,{id:"menubutton"}),r.a.createElement(D.a,null,r.a.createElement(U.a,null,"Manufacturing Goals"),r.a.createElement(U.a,null,"User Settings"),r.a.createElement(U.a,null,r.a.createElement("div",null,re().isValid?r.a.createElement("div",null,r.a.createElement(K.a,{to:"/register",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Register New User")):r.a.createElement("div",null)))))}}]),t}(r.a.Component),se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.props.auth.user;return r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:this.onLogoutClick,className:"btn btn-small waves-effect waves-light hoverable blue accent-3"},"Logout")}}]),t}(n.Component),ie=Object(Y.b)(function(e){return{auth:e.auth}},{logoutUser:Q.logoutUser})(se),le=(a(119),a(122)),ce=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).onExportSimpleClick=e.onExportSimpleClick.bind(Object(h.a)(Object(h.a)(e))),e.state={data:[]},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"onExportSimpleClick",value:function(e){e.preventDefault(),this.props.exportSimpleData(this.props.data)}},{key:"render",value:function(){this.props.auth.user;return r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:this.onExportSimpleClick,className:"btn btn-small waves-effect waves-light hoverable blue accent-3"},"Export")}}]),t}(n.Component),ue=Object(Y.b)(function(e){return{auth:e.auth}},{exportSimpleData:function(e){return function(t){le(e,"simple.csv")}}})(ce),me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={isOpen:!0},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return console.log("in the general navbar: "+localStorage.getItem("jwtToken")),r.a.createElement("div",null,r.a.createElement(W.a,{color:"light",light:!0,expand:"md"},r.a.createElement(oe,null),r.a.createElement(p.a,{exact:!0,path:"/register",component:te}),r.a.createElement(J.a,{id:"title",href:"/"},"ALLIGATOR"),r.a.createElement(ie,null),r.a.createElement(ue,null)))}}]),t}(r.a.Component),pe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).componentDidMount=function(){a.loadDataFromServer(),a.state.data===[]&&a.loadDataFromServer()},a.componentDidUpdate=function(e,t){t.filter_value===a.state.filter_value&&t.filter_category===a.state.filter_category||(a.setState({num_filters:1}),a.loadDataFromServer())},a.loadDataFromServer=function(){fetch("/api/"+a.state.page_name,{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.success?a.setState({data:e.data,loaded:!0}):a.setState({error:e.error})}),console.log(a.state.data)},a.showDetailsView=function(){if(a.state)return console.log(a.state.detail_view_item),a.state.detail_view_item?r.a.createElement(z,null):null},a.onFilterSelection=function(e,t){a.setState({filter_category:t})},a.onCreateNewItem=function(){var e=F.getEmptyItem(a.state.page_name,a.state.data,Object(h.a)(Object(h.a)(a))),t=a.state.data.slice();t.push(e),a.setState({data:t,detail_view_item:e,detail_view_options:[S,w,j]}),a.toggle()},a.onTableOptionSelection=function(e,t){switch(console.log(t),t){case _:a.onCreateNewItem()}},a.onSort=function(e,t){var n=a.state.data;n.sort(function(e,a){return e[t].toString().localeCompare(a[t])}),a.setState({data:n})},a.onSelect=function(e,t){var n=a.state.selected_items.slice(),r=n.indexOf(t);r>-1?n.splice(r,1):n.push(t),a.setState({selected_items:n}),console.log(a.state.selected_items)},a.onDetailViewSelect=function(e,t){a.setState({detail_view_item:t,detail_view_options:[y,w,j]}),a.toggle()},a.onFilterValueChange=function(e){a.setState({filter_value:e.target.value}),console.log("this is the current filter_value: "+a.state.filter_value)},a.onDetailViewSubmit=function(e,t,n){switch(console.log(n),n){case S:R.submitCreateItem(a.state.page_name,t,Object(h.a)(Object(h.a)(a)));break;case y:R.submitUpdateItem(a.state.page_name,t,Object(h.a)(Object(h.a)(a)));break;case w:R.submitDeleteItem(a.state.page_name,t,Object(h.a)(Object(h.a)(a)))}a.setState({detail_view_item:null,detail_view_options:[]}),console.log("this print message is from line 156 of listpage.js"),a.loadDataFromServer(),a.toggle()},a.onPropChange=function(e,t,n){var r=a.state.data.slice(),o=r.indexOf(t);r[o][n]=e.target.value,a.setState({data:r})},a.state={page_name:e.page_name,page_title:e.page_title,num_filters:0,filter_value:"",filter_category:"",filter_options:e.filter_options,table_columns:e.table_columns,table_properties:e.table_properties,table_options:e.table_options,item_properties:e.item_properties,item_property_labels:e.item_property_labels,item_property_placeholder:e.item_property_placeholder,selected_items:[],detail_view_item:null,detail_view_options:[],data:[],loaded:!1,error:null,modal:!1,simple:e.simple||!1},a.toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return r.a.createElement("div",{className:"list-page"},r.a.createElement("div",{className:"options-container",id:this.state.simple?"simple":"complex"},r.a.createElement(I,{value:this.state.filter_value,selection:this.state.filter_category,categories:this.state.filter_options,handleValueChange:this.onFilterValueChange,handleFilterSelection:this.onFilterSelection}),r.a.createElement(G,{table_options:this.state.table_options,handleTableOptionSelection:this.onTableOptionSelection})),r.a.createElement("div",null,r.a.createElement(T,{columns:this.state.table_columns,table_properties:this.state.table_properties,list_items:this.state.data,selected_items:this.state.selected_items,handleSort:this.onSort,handleSelect:this.onSelect,handleDetailViewSelect:this.onDetailViewSelect})),r.a.createElement(M.a,{isOpen:this.state.modal,toggle:this.toggle,id:"popup",className:"item-details"},r.a.createElement(z,{item:this.state.detail_view_item,item_properties:this.state.item_properties,item_property_labels:this.state.item_property_labels,item_property_placeholder:this.state.item_property_placeholder,detail_view_options:this.state.detail_view_options,handlePropChange:this.onPropChange,handleDetailViewSubmit:this.onDetailViewSubmit}),r.a.createElement(B.a,{value:this.state.error,color:"danger"})),r.a.createElement(ue,{data:this.state.data}))}}]),t}(r.a.Component),de=a(62),he=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).onChange=function(){console.log("something is changing on change");a.props.getAllUsers();a.setState({user:1})},a.switchLanding=function(e){switch(console.log("this is the param: "+e),e){case!0:return r.a.createElement("div",{className:"col s6"},r.a.createElement(K.a,{to:"/login",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large btn-flat waves-effect white black-text"},"Log In"));case!1:return r.a.createElement("div",null,r.a.createElement(K.a,{to:"/adminregister",onClick:a.onChange,style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Register New Admin"))}},a.state={user:0},console.log("this is user state: "+a.state.user);a.props.getAllUsers();return console.log("this is the constructor for landing"),a.change=a.change.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"change",value:function(){this.props.getAllUsers();this.setState={user:0}}},{key:"componentDidMount",value:function(){console.log("trying to mount the adminregister"+this.props.history);var e=this.props.getAllUsers();console.log("this is the response for the getAll Users: "+e),this.setState(this.state.users)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.getAllUsers();console.log("this is the response for the getAll Users: "+t),null!=t&&this.setState({user:1})}},{key:"render",value:function(){this.props.getAllUsers();return r.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 center-align"},r.a.createElement("h4",null,r.a.createElement("b",null,"blah")," blahhhhhhhh"),r.a.createElement("p",{className:"flow-text grey-text text-darken-1"},"Blah Blah Blah Blah Food Yum"),r.a.createElement("br",null),this.switchLanding(de().isValid))))}}]),t}(n.Component),ge=Object(Y.b)(function(e){return{auth:e.auth,errors:e.errors}},{getAllUsers:Q.getAllUsers})(Object(H.a)(he)),fe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).onChange=function(t){e.setState(Object(q.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a)},e.state={email:"",password:"",errors:{}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/skus")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/skus"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{marginTop:"4rem"},className:"row"},r.a.createElement("div",{className:"col s8 offset-s2"},r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("h4",null,r.a.createElement("b",null,"Login")," below"),r.a.createElement("p",{className:"grey-text text-darken-1"},"Don't have an account? Contact your Admin to set one up for you!")),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:Z()("",{invalid:e.email||e.emailnotfound})}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("span",{className:"red-text"},e.email,e.emailnotfound)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:Z()("",{invalid:e.password||e.passwordincorrect})}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("span",{className:"red-text"},e.password,e.passwordincorrect)),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Login"))))))}}]),t}(n.Component),be=Object(Y.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:Q.loginUser})(fe),ve=a(85),Ee=a(237),Oe=Object(Y.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(ve.a)(e,["component","auth"]);return r.a.createElement(p.a,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(Ee.a,{to:"/login"})}}))}),_e=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(me,null),r.a.createElement(pe,null))}}]),t}(r.a.Component),ye=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},r.a.createElement(_e,null))}}]),t}(n.Component),we=Object(Y.b)(function(e){return{auth:e.auth}},{})(ye),je=a(34),Se=a.n(je),ke=a(37),Ce=function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,null,[{key:"getIngredientData",value:function(){return{page_name:"ingredients",page_title:"Ingredients",filter_options:["Keyword","SKU"],table_columns:["Name","Number","Package Size","Cost per Package (USD)"],table_properties:["name","num","pkg_size","pkg_cost"],table_options:[_],item_properties:["name","num","pkg_size","pkg_cost","vendor_info","comment","skus"],item_property_labels:["Name","Number","Package Size","Package Cost","Vendor Info","Comments","SKUs"],item_property_placeholder:["White Rice","12345678","1lb","1.50","Tam Soy","...","Fried Rice"],item_options:["View Ingredient"]}}},{key:"getSkuData",value:function(){return{page_name:"skus",page_title:"SKUs",filter_options:["Keyword","Ingredient","Product Line"],table_columns:["Name","Number","Case UPC","Unit UPC","Unit Size","Cost per Case","Product Line"],table_properties:["name","num","case_upc","unit_upc","unit_size","cpc","prod_line"],table_options:[_],item_properties:["name","num","case_upc","unit_upc","unit_size","cpc","prod_line","comment","ingredients"],item_property_labels:["Name","Number","Case UPC","Unit UPC","Unit Size","Cost per Case","Product Line","Comment","Ingredients"],item_property_placeholder:["Campbell's Chicken Noodle Soup","12345678","12345678","12345678","12oz","8.5","Soups","n/a","['']"]}}}]),e}(),Ne=a(36),xe=a(38),De=(a(130),a(131),a(133),a(240)),Ue=a(231),Ie=a(232),Ae=a(82),Te=a.n(Ae),Pe=function(e){var t=Ce.getSkuData(),a=(t.page_name,t.page_title,t.filter_options),n=t.table_columns,o=t.table_properties,s=t.table_options,i=t.item_properties,l=t.item_property_labels,c=t.item_property_placeholder,u={page_name:"manugoals/"+e.id+"/skus",page_title:"",filter_options:a,table_columns:n,table_properties:o,table_options:s,item_properties:i,item_property_labels:l,item_property_placeholder:c,simple:!0};return console.log("manugoals/"+e.id+"/skus"),console.log(u),r.a.createElement("div",null,r.a.createElement(pe,u))},Ge=function(e){return r.a.createElement("div",{id:"singleGoal"},r.a.createElement("div",{className:"textContent"},r.a.createElement("div",{className:"singleGoalContent",id:"goal"+e.id},r.a.createElement("h3",null,e.name)),r.a.createElement(De.a,{toggler:"#goal"+e.id},r.a.createElement(Ue.a,null,r.a.createElement(Ie.a,null,r.a.createElement(Pe,{id:e.id}))))),r.a.createElement("div",{className:"singleGoalButtons"},r.a.createElement("img",{id:"deleteButton",onClick:function(){e.handleDeleteGoal(e.id)},src:Te.a})))},Re=function(e){var t=e.data.map(function(t){return r.a.createElement(Ge,{user:t.user,key:t._id,id:t._id,name:t.name,skus:t.skus,handleUpdateGoal:e.handleUpdateGoal,handleDeleteGoal:e.handleDeleteGoal},t.name)});return r.a.createElement("div",null,t)};Re.defaultProps={data:[]};var Fe=Re,Le=a(233),Ve=a(234),ze=a(235),Me=a(83),Be=a.n(Me),We=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{id:"button",src:Be.a,onClick:this.toggle}),r.a.createElement(M.a,{isOpen:this.state.modal,toggle:this.toggle,id:"popup",className:this.props.className},r.a.createElement(Le.a,{toggle:this.toggle},"Create New Manufacturing Goal"),r.a.createElement("form",{onSubmit:this.props.handleSubmit},r.a.createElement(Ve.a,null,r.a.createElement("input",{type:"text",name:"name",placeholder:"New Goal Name..",value:this.props.name,onChange:this.props.handleChangeText})),r.a.createElement(ze.a,null,r.a.createElement(V.a,{id:"submitbutton",type:"submit",color:"primary",onClick:this.toggle},"Submit")," "))))}}]),t}(r.a.Component);We.defaultProps={name:"New Goal"};var Je=We,Ke=(a(212),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).onChangeText=function(t){var a=Object(xe.a)({},e.state);a[t.target.name]=t.target.value,e.setState(a)},e.onUpdateGoal=function(t){var a=e.state.data.find(function(e){return e._id===t});a&&e.setState({name:a.name,skus:a.skus,updateId:t,user:g})},e.onDeleteGoal=function(t){var a=e.state.data.findIndex(function(e){return e._id===t}),n=[].concat(Object(Ne.a)(e.state.data.slice(0,a)),Object(Ne.a)(e.state.data.slice(a+1)));e.setState({data:n}),fetch("api/manugoals/".concat(t),{method:"DELETE"}).then(function(e){return e.json()}).then(function(t){t.success||e.setState({error:t.error})})},e.submitGoal=function(t){t.preventDefault();var a=e.state,n=a.name,r=a.updateId;n&&(r?e.submitUpdatedGoal():e.submitNewGoal())},e.submitNewGoal=function(){var t=e.state,a=t.name,n=t.skus,r=t.user,o=[].concat(Object(Ne.a)(e.state.data),[{name:a,_id:Date.now().toString(),skus:[],user:g}]);e.setState({data:o}),fetch("/api/manugoals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,skus:n,user:r})}).then(function(e){return e.json()}).then(function(t){t.success?e.setState({name:"",skus:"",user:"",error:null}):e.setState({error:t.error.message||t.error})})},e.submitUpdatedGoal=function(){var t=e.state,a=t.name,n=t.skus,r=t.user,o=t.updateId;fetch("/api/manugoals/".concat(o),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,skus:n,user:r})}).then(function(e){return e.json()}).then(function(t){t.success?e.setState({name:"",skus:"",user:"",error:null}):e.setState({error:t.error.message||t.error})})},e.loadGoalsFromServer=function(){fetch("/api/manugoals").then(function(e){return e.json()}).then(function(t){t.success?e.setState({data:t.data}):e.setState({error:t.error})})},e.state={data:[],error:null,name:"",skus:[],user:g},e.pollInterval=null,e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadGoalsFromServer(),this.pollInterval||(this.pollInterval=setInterval(this.loadGoalsFromServer,2e3))}},{key:"componentWillUnmount",value:function(){this.pollInterval&&clearInterval(this.pollInterval),this.pollInterval=null}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"goals"},r.a.createElement("h2",null,"Current Goals:"),r.a.createElement(Fe,{data:this.state.data,handleDeleteGoal:this.onDeleteGoal,handleUpdateGoal:this.onUpdateGoal})),r.a.createElement("div",{className:"form"},r.a.createElement(Je,{name:this.state.name,user:this.state.user,skus:this.state.skus,handleChangeText:this.onChangeText,handleSubmit:this.submitGoal})),this.state.error&&r.a.createElement("p",null,this.state.error))}}]),t}(n.Component)),qe=(a(214),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{id:"manufacturing_goals_title"},"Manufacturing Goals"),r.a.createElement(Ke,null))}}]),t}(r.a.Component)),He=a(32),Ye=a(84),Qe=a(20),Xe=a(48),Ze={isAuthenticated:!1,user:{},loading:!1},$e={},et="ADD_TODO",tt="TOGGLE_TODO",at="SET_VISIBILITY_FILTER";var nt="SHOW_ALL";var rt=Object(He.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.b:return Object(xe.a)({},e,{isAuthenticated:!Xe(t.payload),user:t.payload});case Qe.c:return Object(xe.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.a:return t.payload;default:return e}},visibilityFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case at:return t.filter;default:return e}},todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return[].concat(Object(Ne.a)(e),[{text:t.text,completed:!1}]);case tt:return e.map(function(e,a){return a===t.index?Object.assign({},e,{completed:!e.completed}):e});default:return e}}});var ot,st=Object(He.d)(rt,ot,Object(He.a)(Ye.a)),it=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).determineUser=function(){if(localStorage.jwtToken&&localStorage.getItem("firstAdminCreated")){var e=localStorage.jwtToken;Object(ke.a)(e);var t=Se()(e);st.dispatch(Object(Q.setCurrentUser)(t));var a=Date.now()/1e3;t.exp<a&&(st.dispatch(Object(Q.logoutUser)()),window.location.href="./login")}},e.getIngredientRender=function(){return function(){return r.a.createElement("div",{className:"container"},r.a.createElement(pe,Ce.getIngredientData()))}},e.getSkuRender=function(){return function(){return r.a.createElement(pe,Ce.getSkuData())}},e.determineUser(),e.state={navbar_items:[b,f,v]},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y.a,{store:st},r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{exact:!0,path:"/",component:ge}),r.a.createElement(p.a,{exact:!0,path:"/login",component:be}),r.a.createElement(p.a,{exact:!0,path:"/register",component:te}),r.a.createElement(p.a,{exact:!0,path:"/adminregister",component:ne}),r.a.createElement(d.a,null,r.a.createElement(Oe,{exact:!0,path:"/dashboard",component:we}),r.a.createElement(Oe,{exact:!0,path:"/skus",component:this.getSkuRender()}),r.a.createElement(Oe,{exact:!0,path:"/ingredients",component:this.getIngredientRender()}),r.a.createElement(Oe,{exact:!0,path:"/manu_goals",component:qe}))))))}}]),t}(r.a.Component);a(216);Object(o.render)(r.a.createElement("div",null,r.a.createElement(it,null)),document.getElementById("root"))},37:function(e,t,a){"use strict";var n=a(30),r=a.n(n);t.a=function(e){e?r.a.defaults.headers.common.Authorization=e:delete r.a.defaults.headers.common.Authorization}},47:function(e,t,a){var n=a(34),r=a(48);e.exports=function(){var e={};if(null!=localStorage&&null!=localStorage.getItem("jwtToken")){var t=n(localStorage.getItem("jwtToken")),a=t.admin;if(console.log("the decoded is: "+t),console.log("curUser email is: "+t.email),console.log("curUser admin status is is: "+a),a)return{errors:e,isValid:r(e)}}return e.privileges="Only admins may create new users.",{errors:e,isValid:r(e)}}},62:function(e,t,a){a(34);var n=a(48);a(19);e.exports=function(){var e={};return console.log("this is the adminHasinit flag: "+localStorage.getItem("firstAdminCreated")),null!=localStorage&&(console.log("first"),null!=localStorage.getItem("firstAdminCreated")&&(console.log("second"),console.log("this is the adminHasinit boolean: "+localStorage.getItem("firstAdminCreated")),Boolean(localStorage.getItem("firstAdminCreated"))))?(console.log("this is admin will be true: "),console.log("third"),{errors:e,isValid:n(e)}):(console.log("this is admin will be false: "),e.admin="The initial admin has not been created.",{errors:e,isValid:n(e)})}},82:function(e,t,a){e.exports=a.p+"static/media/delete.cbb1c7aa.png"},83:function(e,t,a){e.exports=a.p+"static/media/add.31e47025.png"},86:function(e,t,a){e.exports=a(218)},93:function(e,t,a){}},[[86,2,1]]]);
//# sourceMappingURL=main.15d8b200.chunk.js.map